{"dependencies":[{"name":"./common","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":34,"index":49}}],"key":"T3X1rGrsueEhPeOGTLhHRm6Tz+4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.checkStyleOverwriting = checkStyleOverwriting;\n  exports.maybeBuild = maybeBuild;\n  var _common = require(_dependencyMap[0], \"./common\");\n  const mockTargetValues = {\n    targetOriginX: 0,\n    targetOriginY: 0,\n    targetWidth: 0,\n    targetHeight: 0,\n    targetGlobalOriginX: 0,\n    targetGlobalOriginY: 0,\n    targetBorderRadius: 0,\n    windowWidth: 0,\n    windowHeight: 0,\n    currentOriginX: 0,\n    currentOriginY: 0,\n    currentWidth: 0,\n    currentHeight: 0,\n    currentGlobalOriginX: 0,\n    currentGlobalOriginY: 0,\n    currentBorderRadius: 0\n  };\n  function getCommonProperties(layoutStyle, componentStyle) {\n    let componentStyleFlat = Array.isArray(componentStyle) ? componentStyle.flat() : [componentStyle];\n    componentStyleFlat = componentStyleFlat.filter(Boolean);\n    componentStyleFlat = componentStyleFlat.map(style => 'initial' in style ? style.initial.value // Include properties of animated style\n    : style);\n    const componentStylesKeys = componentStyleFlat.flatMap(style => Object.keys(style));\n    const commonKeys = Object.keys(layoutStyle).filter(key => componentStylesKeys.includes(key));\n    return commonKeys;\n  }\n  function checkStyleOverwriting(layoutAnimationOrBuilder, style, displayName, onWarn) {\n    if (!isAnimationBuilder(layoutAnimationOrBuilder)) {\n      return;\n    }\n    const animationFactory = layoutAnimationOrBuilder.build();\n    const layoutAnimation = animationFactory(mockTargetValues);\n    maybeReportOverwrittenProperties(layoutAnimation.animations, style, displayName, onWarn);\n  }\n  function maybeReportOverwrittenProperties(layoutAnimationStyle, style, displayName, onWarn) {\n    const commonProperties = getCommonProperties(layoutAnimationStyle, style);\n    if (commonProperties.length > 0) {\n      _common.logger.warn(`${commonProperties.length === 1 ? 'Property' : 'Properties'} \"${commonProperties.join(', ')}\" of ${displayName} may be overwritten by a layout animation. Please wrap your component with an animated view and apply the layout animation on the wrapper.`);\n      onWarn();\n    }\n  }\n  function maybeBuild(layoutAnimationOrBuilder) {\n    if (isAnimationBuilder(layoutAnimationOrBuilder)) {\n      const animationFactory = layoutAnimationOrBuilder.build();\n      return animationFactory;\n    } else {\n      return layoutAnimationOrBuilder;\n    }\n  }\n  function isAnimationBuilder(value) {\n    return 'build' in value && typeof value.build === 'function';\n  }\n});","lineCount":63,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,31,0,"exports"],[7,9,31,0],[7,10,31,0,"checkStyleOverwriting"],[7,31,31,0],[7,34,31,0,"checkStyleOverwriting"],[7,55,31,0],[8,2,46,0,"exports"],[8,9,46,0],[8,10,46,0,"maybeBuild"],[8,20,46,0],[8,23,46,0,"maybeBuild"],[8,33,46,0],[9,2,3,0],[9,6,3,0,"_common"],[9,13,3,0],[9,16,3,0,"require"],[9,23,3,0],[9,24,3,0,"_dependencyMap"],[9,38,3,0],[10,2,4,0],[10,8,4,6,"mockTargetValues"],[10,24,4,22],[10,27,4,25],[11,4,5,2,"targetOriginX"],[11,17,5,15],[11,19,5,17],[11,20,5,18],[12,4,6,2,"targetOriginY"],[12,17,6,15],[12,19,6,17],[12,20,6,18],[13,4,7,2,"targetWidth"],[13,15,7,13],[13,17,7,15],[13,18,7,16],[14,4,8,2,"targetHeight"],[14,16,8,14],[14,18,8,16],[14,19,8,17],[15,4,9,2,"targetGlobalOriginX"],[15,23,9,21],[15,25,9,23],[15,26,9,24],[16,4,10,2,"targetGlobalOriginY"],[16,23,10,21],[16,25,10,23],[16,26,10,24],[17,4,11,2,"targetBorderRadius"],[17,22,11,20],[17,24,11,22],[17,25,11,23],[18,4,12,2,"windowWidth"],[18,15,12,13],[18,17,12,15],[18,18,12,16],[19,4,13,2,"windowHeight"],[19,16,13,14],[19,18,13,16],[19,19,13,17],[20,4,14,2,"currentOriginX"],[20,18,14,16],[20,20,14,18],[20,21,14,19],[21,4,15,2,"currentOriginY"],[21,18,15,16],[21,20,15,18],[21,21,15,19],[22,4,16,2,"currentWidth"],[22,16,16,14],[22,18,16,16],[22,19,16,17],[23,4,17,2,"currentHeight"],[23,17,17,15],[23,19,17,17],[23,20,17,18],[24,4,18,2,"currentGlobalOriginX"],[24,24,18,22],[24,26,18,24],[24,27,18,25],[25,4,19,2,"currentGlobalOriginY"],[25,24,19,22],[25,26,19,24],[25,27,19,25],[26,4,20,2,"currentBorderRadius"],[26,23,20,21],[26,25,20,23],[27,2,21,0],[27,3,21,1],[28,2,22,0],[28,11,22,9,"getCommonProperties"],[28,30,22,28,"getCommonProperties"],[28,31,22,29,"layoutStyle"],[28,42,22,40],[28,44,22,42,"componentStyle"],[28,58,22,56],[28,60,22,58],[29,4,23,2],[29,8,23,6,"componentStyleFlat"],[29,26,23,24],[29,29,23,27,"Array"],[29,34,23,32],[29,35,23,33,"isArray"],[29,42,23,40],[29,43,23,41,"componentStyle"],[29,57,23,55],[29,58,23,56],[29,61,23,59,"componentStyle"],[29,75,23,73],[29,76,23,74,"flat"],[29,80,23,78],[29,81,23,79],[29,82,23,80],[29,85,23,83],[29,86,23,84,"componentStyle"],[29,100,23,98],[29,101,23,99],[30,4,24,2,"componentStyleFlat"],[30,22,24,20],[30,25,24,23,"componentStyleFlat"],[30,43,24,41],[30,44,24,42,"filter"],[30,50,24,48],[30,51,24,49,"Boolean"],[30,58,24,56],[30,59,24,57],[31,4,25,2,"componentStyleFlat"],[31,22,25,20],[31,25,25,23,"componentStyleFlat"],[31,43,25,41],[31,44,25,42,"map"],[31,47,25,45],[31,48,25,46,"style"],[31,53,25,51],[31,57,25,55],[31,66,25,64],[31,70,25,68,"style"],[31,75,25,73],[31,78,25,76,"style"],[31,83,25,81],[31,84,25,82,"initial"],[31,91,25,89],[31,92,25,90,"value"],[31,97,25,95],[31,98,25,96],[32,4,25,96],[32,6,26,4,"style"],[32,11,26,9],[32,12,26,10],[33,4,27,2],[33,10,27,8,"componentStylesKeys"],[33,29,27,27],[33,32,27,30,"componentStyleFlat"],[33,50,27,48],[33,51,27,49,"flatMap"],[33,58,27,56],[33,59,27,57,"style"],[33,64,27,62],[33,68,27,66,"Object"],[33,74,27,72],[33,75,27,73,"keys"],[33,79,27,77],[33,80,27,78,"style"],[33,85,27,83],[33,86,27,84],[33,87,27,85],[34,4,28,2],[34,10,28,8,"commonKeys"],[34,20,28,18],[34,23,28,21,"Object"],[34,29,28,27],[34,30,28,28,"keys"],[34,34,28,32],[34,35,28,33,"layoutStyle"],[34,46,28,44],[34,47,28,45],[34,48,28,46,"filter"],[34,54,28,52],[34,55,28,53,"key"],[34,58,28,56],[34,62,28,60,"componentStylesKeys"],[34,81,28,79],[34,82,28,80,"includes"],[34,90,28,88],[34,91,28,89,"key"],[34,94,28,92],[34,95,28,93],[34,96,28,94],[35,4,29,2],[35,11,29,9,"commonKeys"],[35,21,29,19],[36,2,30,0],[37,2,31,7],[37,11,31,16,"checkStyleOverwriting"],[37,32,31,37,"checkStyleOverwriting"],[37,33,31,38,"layoutAnimationOrBuilder"],[37,57,31,62],[37,59,31,64,"style"],[37,64,31,69],[37,66,31,71,"displayName"],[37,77,31,82],[37,79,31,84,"onWarn"],[37,85,31,90],[37,87,31,92],[38,4,32,2],[38,8,32,6],[38,9,32,7,"isAnimationBuilder"],[38,27,32,25],[38,28,32,26,"layoutAnimationOrBuilder"],[38,52,32,50],[38,53,32,51],[38,55,32,53],[39,6,33,4],[40,4,34,2],[41,4,35,2],[41,10,35,8,"animationFactory"],[41,26,35,24],[41,29,35,27,"layoutAnimationOrBuilder"],[41,53,35,51],[41,54,35,52,"build"],[41,59,35,57],[41,60,35,58],[41,61,35,59],[42,4,36,2],[42,10,36,8,"layoutAnimation"],[42,25,36,23],[42,28,36,26,"animationFactory"],[42,44,36,42],[42,45,36,43,"mockTargetValues"],[42,61,36,59],[42,62,36,60],[43,4,37,2,"maybeReportOverwrittenProperties"],[43,36,37,34],[43,37,37,35,"layoutAnimation"],[43,52,37,50],[43,53,37,51,"animations"],[43,63,37,61],[43,65,37,63,"style"],[43,70,37,68],[43,72,37,70,"displayName"],[43,83,37,81],[43,85,37,83,"onWarn"],[43,91,37,89],[43,92,37,90],[44,2,38,0],[45,2,39,0],[45,11,39,9,"maybeReportOverwrittenProperties"],[45,43,39,41,"maybeReportOverwrittenProperties"],[45,44,39,42,"layoutAnimationStyle"],[45,64,39,62],[45,66,39,64,"style"],[45,71,39,69],[45,73,39,71,"displayName"],[45,84,39,82],[45,86,39,84,"onWarn"],[45,92,39,90],[45,94,39,92],[46,4,40,2],[46,10,40,8,"commonProperties"],[46,26,40,24],[46,29,40,27,"getCommonProperties"],[46,48,40,46],[46,49,40,47,"layoutAnimationStyle"],[46,69,40,67],[46,71,40,69,"style"],[46,76,40,74],[46,77,40,75],[47,4,41,2],[47,8,41,6,"commonProperties"],[47,24,41,22],[47,25,41,23,"length"],[47,31,41,29],[47,34,41,32],[47,35,41,33],[47,37,41,35],[48,6,42,4,"logger"],[48,13,42,10],[48,14,42,10,"logger"],[48,20,42,10],[48,21,42,11,"warn"],[48,25,42,15],[48,26,42,16],[48,29,42,19,"commonProperties"],[48,45,42,35],[48,46,42,36,"length"],[48,52,42,42],[48,57,42,47],[48,58,42,48],[48,61,42,51],[48,71,42,61],[48,74,42,64],[48,86,42,76],[48,91,42,81,"commonProperties"],[48,107,42,97],[48,108,42,98,"join"],[48,112,42,102],[48,113,42,103],[48,117,42,107],[48,118,42,108],[48,126,42,116,"displayName"],[48,137,42,127],[48,277,42,267],[48,278,42,268],[49,6,43,4,"onWarn"],[49,12,43,10],[49,13,43,11],[49,14,43,12],[50,4,44,2],[51,2,45,0],[52,2,46,7],[52,11,46,16,"maybeBuild"],[52,21,46,26,"maybeBuild"],[52,22,46,27,"layoutAnimationOrBuilder"],[52,46,46,51],[52,48,46,53],[53,4,47,2],[53,8,47,6,"isAnimationBuilder"],[53,26,47,24],[53,27,47,25,"layoutAnimationOrBuilder"],[53,51,47,49],[53,52,47,50],[53,54,47,52],[54,6,48,4],[54,12,48,10,"animationFactory"],[54,28,48,26],[54,31,48,29,"layoutAnimationOrBuilder"],[54,55,48,53],[54,56,48,54,"build"],[54,61,48,59],[54,62,48,60],[54,63,48,61],[55,6,49,4],[55,13,49,11,"animationFactory"],[55,29,49,27],[56,4,50,2],[56,5,50,3],[56,11,50,9],[57,6,51,4],[57,13,51,11,"layoutAnimationOrBuilder"],[57,37,51,35],[58,4,52,2],[59,2,53,0],[60,2,54,0],[60,11,54,9,"isAnimationBuilder"],[60,29,54,27,"isAnimationBuilder"],[60,30,54,28,"value"],[60,35,54,33],[60,37,54,35],[61,4,55,2],[61,11,55,9],[61,18,55,16],[61,22,55,20,"value"],[61,27,55,25],[61,31,55,29],[61,38,55,36,"value"],[61,43,55,41],[61,44,55,42,"build"],[61,49,55,47],[61,54,55,52],[61,64,55,62],[62,2,56,0],[63,0,56,1],[63,3]],"functionMap":{"names":["<global>","getCommonProperties","componentStyleFlat.map$argument_0","componentStyleFlat.flatMap$argument_0","Object.keys.filter$argument_0","checkStyleOverwriting","maybeReportOverwrittenProperties","maybeBuild","isAnimationBuilder"],"mappings":"AAA;ACqB;8CCG;SDC;yDEC,2BF;qDGC,wCH;CDE;OKC;CLO;AMC;CNM;OOC;CPO;AQC;CRE"},"hasCjsExports":false},"type":"js/module"}]}